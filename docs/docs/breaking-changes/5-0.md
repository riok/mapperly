---
sidebar_position: -5
description: How to upgrade to Mapperly v5.0 and a list of all its breaking changes
---

# v5.0

[![Release notes v5.0.0](https://img.shields.io/badge/Release_notes-v5.0-green?style=flat-square)](https://github.com/riok/mapperly/releases/tag/v5.0.0)
[![NuGet v5.0.0](https://img.shields.io/badge/NuGet-v5.0-blue?style=flat-square)](https://www.nuget.org/packages/Riok.Mapperly/5.0.0)
[![API Diff v5.0.0 / v4.3.0](https://img.shields.io/badge/API--Diff-v5.0_%2F_v4.0-yellow?style=flat-square)](https://www.fuget.org/packages/Riok.Mapperly/5.0.0/lib/netstandard2.0/diff/4.0.0/)

## Migration guide from v4.3.0

- Default enabled conversions no longer include explicit casts. Use `MappingConversionType.All` to get the previous behavior, or enable explicit casts explicitly with `MappingConversionType.Default | MappingConversionType.ExplicitCast`.

## Default enabled conversions exclude explicit casts

Starting with v5.0, Mapperly introduces a new `MappingConversionType.Default` value that excludes explicit casts.
This value is now used as the default for `MapperAttribute.EnabledConversions`.

Previously, the default was `MappingConversionType.All`, which included all conversions including explicit casts.
The new default behavior excludes explicit casts to be safer by default, as explicit casts can potentially throw runtime exceptions.

### Migration options:

1. **Recommended**: Review your mappings and explicitly enable `ExplicitCast` where needed:
   ```csharp
   [Mapper(EnabledConversions = MappingConversionType.ExplicitCast)]
   public partial class MyMapper
   {
       public partial Target Map(Source source);
   }
   ```

2. **Quick fix**: Use `MappingConversionType.All` to restore the previous behavior:
   ```csharp
   [Mapper(EnabledConversions = MappingConversionType.All)]
   public partial class MyMapper
   {
       // Your existing mappings
   }
   ```

This change makes Mapperly safer by default while still allowing explicit casts when explicitly requested.
